<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Puzzle game example</title>
    <script type="text/javascript" src="Puzzler.js"></script>
    <script type="text/javascript" src="Jigsaws/Rectangle.js"></script>
    <script type="text/javascript" src="Jigsaws/Arc.js"></script>
    <script type="text/javascript" src="Jigsaws/Classic.js"></script>
    <!--<script type="text/javascript" src="Jigsaws/Sin.js"></script>-->
    <script type="text/javascript" src="PuzzleGame.js"></script>
    <style type="text/css">
        /** block select on Mobile Safari **/
        * { -webkit-user-select: none; }
        body
        {
            background: #ccc;    
        }

        .dest
        {
            width: 100%;
            height: 330px;
            float:left;
            /*border: 1px solid #F00;*/
            position: relative;
        }
    </style>
</head>
<body>
<form action="" id="form" style="display:none">
    <fieldset>
        URL: <input type="text" name="url" value="img.jpg"/>
        xCount: <input type="text" name="count-x" value="5"/>
        YCount: <input type="text" name="count-y" value="5"/>

        <input type="submit" value="Start" id="startGame"/>
    </fieldset>
</form>
<script type="text/javascript">
    if (Puzzler.support()) {
        var form = document.getElementById('form');
        form.style.display = 'block';
        form.addEventListener('submit', function(e) {
            e.preventDefault();

            this.style.display = 'none';

            var url = this.url.value;
            var countX = this['count-x'].value;
            var countY = this['count-y'].value;


            var dest = document.createElement('div');
            dest.id = 'dest';
            dest.className = 'dest';
            dest.innerHTML = 'Loading image...';
            document.body.appendChild(dest);

            new PuzzleGame(dest, url, countX, countY);
        }, false);
    } else {
        document.body.innerHTML = '<h1>Sorry, but you browser doesn\'t support "Canvas". Please, use modern browser such as Firefox, Opera, Safari or Chrome</h1>';
    }
</script>
</body>
</html>